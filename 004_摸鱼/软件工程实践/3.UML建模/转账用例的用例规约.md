# 转账用例的用例规约

#### 1. 简要说明

​	本用例允许用户进行转账操作。在用户余额足够且收款方信息正确的的情况下，可以取出用户账户相应的现金转账给收款方。

#### 2. 事件流

##### 2.1基本事件流

转账开始于用户登录业务系统之后，选择转账业务。

① 用户输入转账金额及收款方信息并提交。

② 转账控制类向银行系统递交输入信息合法性验证申请

③ 银行系统对用户进行安全工具验证。

④ 银行系统与服务器通信，安全工具验证用户身份。

⑤ 服务器送回通过验证信息。

⑥ 银行系统与服务器通信，确认余额。

⑦ 服务器送回金额正常信息

⑧ 银行系统调度*转账控制类*启动转账，并更改相关数据库信息

⑨ 服务器送回转账成功信息。

⑩ *转账控制类*向界面UI类发送提示命令。

⑪  界面UI显示“转账成功”

##### 2.2 备选事件流

##### 2.2.1 用户未通过安全工具验证

若银行系统在与安全工具验证类通信过程中，发现用户未通过安全工具验证，事件⑤将变更为“回送未通过验证信息”，同时之后的事件流也将发生改变。

⑥转账控制类启动未通过验证模块，向UI类发送信号

⑦界面UI类显示“未通过验证”

##### 2.2.2 用户余额不足

若银行系统在与服务器通信确认余额过程中，发现用户余额小于输入转账金额，则原事件流⑦将变更为“回送余额不足信息”，同时之后的事件流也将发生改变：

⑧转账控制类启动余额不足处理模块，向UI类发送信号

⑨界面UI类显示“余额不足”。

